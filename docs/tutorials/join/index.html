<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=preload as=font href=https://atlas-vis.github.io/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://atlas-vis.github.io/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin><link rel=stylesheet href=https://atlas-vis.github.io/main.css><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>4. Join Graphics with Data - Atlas.js</title><meta name=description content><link rel=canonical href=https://atlas-vis.github.io/tutorials/join/><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="4. Join Graphics with Data"><meta property="og:description" content="Atlas offers three primary operations to generate marks or glyphs by data: repeat, divide, and densify. To explain how these operations work, let&rsquo;s use the dataset in the diverging bar chart example. The data table consists of three columns: Age Group, Response, and Percentage (percentage of people with a particular response within an age group):
 repeat The repeat operation applies to any mark or glyph, and replaces it with a collection of marks/glyphs, each mark/glyph in the collection represents a unique value in the optional field parameter."><meta property="og:url" content="https://atlas-vis.github.io/tutorials/join/"><meta property="og:site_name" content="Atlas.js"><meta property="article:published_time" content="2020-10-13T15:21:01+02:00"><meta property="article:modified_time" content="2020-10-13T15:21:01+02:00"><meta property="og:image" content="https://atlas-vis.github.io/atlas.png"><meta property="og:image:alt" content="Atlas.js"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content><meta name=twitter:creator content><meta name=twitter:title content="4. Join Graphics with Data"><meta name=twitter:description content><meta name=twitter:image content="https://atlas-vis.github.io/atlas.png"><meta name=twitter:image:alt content="4. Join Graphics with Data"><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"https://atlas-vis.github.io/#/schema/organization/1","name":"","url":"https://atlas-vis.github.io/","sameAs":["https://github.com/atlas-vis/atlas-vis.github.io"],"logo":{"@type":"ImageObject","@id":"https://atlas-vis.github.io/#/schema/image/1","url":"https://atlas-vis.github.io/atlas.png","width":null,"height":null,"caption":""},"image":{"@id":"https://atlas-vis.github.io/#/schema/image/1"}},{"@type":"WebSite","@id":"https://atlas-vis.github.io/#/schema/website/1","url":"https://atlas-vis.github.io/","name":"Atlas.js","description":"","publisher":{"@id":"https://atlas-vis.github.io/#/schema/organization/1"}},{"@type":"WebPage","@id":"https://atlas-vis.github.io/tutorials/join/","url":"https://atlas-vis.github.io/tutorials/join/","name":"4. Join Graphics with Data","description":"","isPartOf":{"@id":"https://atlas-vis.github.io/#/schema/website/1"},"about":{"@id":"https://atlas-vis.github.io/#/schema/organization/1"},"datePublished":"2020-10-13T15:21:01CET","dateModified":"2020-10-13T15:21:01CET","breadcrumb":{"@id":"https://atlas-vis.github.io/tutorials/join/#/schema/breadcrumb/1"},"primaryImageOfPage":{"@id":"https://atlas-vis.github.io/tutorials/join/#/schema/image/2"},"inLanguage":"","potentialAction":[{"@type":"ReadAction","target":["https://atlas-vis.github.io/tutorials/join/"]}]},{"@type":"BreadcrumbList","@id":"https://atlas-vis.github.io/tutorials/join/#/schema/breadcrumb/1","name":"Breadcrumbs","itemListElement":[{"@type":"ListItem","position":1,"item":{"@type":"WebPage","@id":"https://atlas-vis.github.io/","url":"https://atlas-vis.github.io/","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@type":"WebPage","@id":"https://atlas-vis.github.io/tutorials/","url":"https://atlas-vis.github.io/tutorials/","name":"Tutorials"}},{"@type":"ListItem","position":3,"item":{"@id":"https://atlas-vis.github.io/tutorials/join/"}}]},{"@context":"https://schema.org","@graph":[{"@type":"ImageObject","@id":"https://atlas-vis.github.io/tutorials/join/#/schema/image/2","url":"https://atlas-vis.github.io/atlas.png","contentUrl":"https://atlas-vis.github.io/atlas.png","caption":"4. Join Graphics with Data"}]}]}</script><meta name=theme-color content="#fff"><link rel=apple-touch-icon sizes=180x180 href=https://atlas-vis.github.io/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://atlas-vis.github.io/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://atlas-vis.github.io/favicon-16x16.png><link rel=manifest crossorigin=use-credentials href=https://atlas-vis.github.io/site.webmanifest><script async src="https://www.googletagmanager.com/gtag/js?id=UA-1673783-4"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','UA-1673783-4')</script></head><body class="tutorials single"><div class="header-bar fixed-top"></div><header class="navbar fixed-top navbar-expand-md navbar-light"><div class=container><input class="menu-btn order-0" type=checkbox id=menu-btn>
<label class="menu-icon d-md-none" for=menu-btn><span class=navicon></span></label><a class="navbar-brand order-1 order-md-0 me-auto" href=https://atlas-vis.github.io/>Atlas.js</a>
<button id=mode class="btn btn-link order-2 order-md-4" type=button aria-label="Toggle mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button><ul class="navbar-nav social-nav order-3 order-md-5"></ul><div class="collapse navbar-collapse order-4 order-md-1"><ul class="navbar-nav main-nav me-auto order-5 order-md-2"><li class=nav-item><a class=nav-link href=https://atlas-vis.github.io/gallery.html>Gallery</a></li><li class=nav-item><a class=nav-link href=https://atlas-vis.github.io/tutorials/instruction/>Getting Started</a></li><li class=nav-item><a class=nav-link href=https://atlas-vis.github.io/docs/global/func>API Reference</a></li></ul><div class="break order-6 d-md-none"></div></div></div></header><div class="wrap container" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar"><nav class=docs-links aria-label="Main navigation"><h3>Tutorials</h3><ul class=list-unstyled><li><a class=docs-link href=https://atlas-vis.github.io/tutorials/instruction/>Usage Instructions</a></li><li><a class=docs-link href=https://atlas-vis.github.io/tutorials/example/>0. Let's Create a Diverging Bar Chart</a></li><li><a class=docs-link href=https://atlas-vis.github.io/tutorials/vom/>1. Visualization Object Model</a></li><li><a class=docs-link href=https://atlas-vis.github.io/tutorials/initialize/>2. Initialize Scene and Import Data</a></li><li><a class=docs-link href=https://atlas-vis.github.io/tutorials/mark/>3. Create and Render Glyphs</a></li><li><a class="docs-link active" href=https://atlas-vis.github.io/tutorials/join/>4. Join Graphics with Data</a></li><li><a class=docs-link href=https://atlas-vis.github.io/tutorials/layout/>5. Lay out Objects</a></li><li><a class=docs-link href=https://atlas-vis.github.io/tutorials/encode/>6. Specify Visual Encodings</a></li><li><a class=docs-link href=https://atlas-vis.github.io/tutorials/constraints/>7. Apply Constraints</a></li><li><a class=docs-link href=https://atlas-vis.github.io/tutorials/axis/>8. Create Axis, Gridlines, and Legend</a></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><ul><li><a href=#repeat>repeat</a></li><li><a href=#divide>divide</a></li><li><a href=#densify>densify</a></li><li><a href=#concatenate-operations>concatenate operations</a></li></ul></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9 mx-xl-auto"><h1>4. Join Graphics with Data</h1><p class=lead></p><p>Atlas offers three primary operations to generate marks or glyphs by data: repeat, divide, and densify. To explain how these operations work, let&rsquo;s use the dataset in the <a href=../../tutorials/example/>diverging bar chart example</a>. The data table consists of three columns: Age Group, Response, and Percentage (percentage of people with a particular response within an age group):</p><figure class="border-0 mx-auto text-center"><img src=data.png alt="Survey Response Dataset" width=350px></figure><h3 id=repeat>repeat<a href=#repeat class=anchor aria-hidden=true>#</a></h3><p>The repeat operation applies to any mark or glyph, and replaces it with a <a href=../../docs/group/collection/>collection</a> of marks/glyphs, each mark/glyph in the collection represents a unique value in the optional field parameter. In the figure below, we repeat a mark by the field &ldquo;Age Group&rdquo;. There are four unique values in the field &ldquo;Age Group&rdquo;, so we get a collection of four marks. If the field parameter is unspecified, a glyph is created for every tuple (row) in the data table. The generated marks are <strong>peers</strong> of each other. They have the same visual properties, including position and size, so these marks will overlap. The figure below is meant to show clearly the number of marks generated, and does not accurately reflect the positions of the generated marks.</p><p>All the tuples having the same field value are joined with each corresponding mark as its <strong>data scope</strong>. For example, the data scope of the first mark in the generated collection is the first four rows with &ldquo;Age Group&rdquo; equal to &ldquo;Below 30&rdquo;.</p><figure class="border-0 mx-auto text-center"><img src=repeat.png alt=Repeat width=700px></figure><h3 id=divide>divide<a href=#divide class=anchor aria-hidden=true>#</a></h3><p>The divide operation applies to a line, a circle or a rectangle only. It splits a mark into a <a href=../../docs/group/collection/>collection</a> of smaller marks. These generated smaller marks are <strong>peers</strong> of each other. The output depends on the mark type and the orientation parameter, as shown in the figure below. For example, applying divide on a circle along the angular orientation produces a collection of pies, and along the radial orientation produces a collection of rings. The graphics-data joining mechanism is similar to that of the repeat operation: tuples sharing the same field value are assigned as the <strong>data scope</strong> of each corresponding mark in the output collection.</p><figure class="border-0 mx-auto text-center"><img src=divide.png alt=Divide width=680px></figure><h3 id=densify>densify<a href=#densify class=anchor aria-hidden=true>#</a></h3><p>The densify operation adds vertices along the border of a mark, and replaces curve segments with line segments. A line, for example, is replaced by a <a href=../../docs/marks/path/>polyline</a>; a rectangle is replaced by an <a href=../../docs/marks/areapath>area mark</a>, and a circle is replaced by a standard <a href=../../docs/marks/polygonpath/>polygon</a>. The generated vertices are <strong>peers</strong> of each other. The graphics-data joining mechanism is similar to that of the repeat and divide operations. Each vertex has a <strong>data scope</strong> that represents a unique value in the field parameter. The number of vertices in the output polyline and polygon marks is equal to the number of unique field values; the number of vertices in the output area mark is twice the number of unique field values, as both of the parallel segments of a rectangle are densified.</p><figure class="border-0 mx-auto text-center"><img src=densify.png alt=Divide width=700px></figure><p>All three operations are defined as methods in the scene class. <a href=../../docs/group/scene/#methods-join-graphics-with-data>The API reference</a> contains details about the parameters.</p><h3 id=concatenate-operations>concatenate operations<a href=#concatenate-operations class=anchor aria-hidden=true>#</a></h3><p>These three operations can be applied one after another to create more complex structures. In the <a href=../../tutorials/example/>diverging bar chart example</a>, we applied repeat first, then divide, which gave us a stacked bar chart. When we apply repeat + densify to a line, we can create visualizations such as sparklines or multi-line graphs. We can also apply repeat multiple times and get nested collections, which are common in small multiples. It is recommended that you apply repeat first before applying divide or densify.</p><div class="docs-navigation d-flex justify-content-between"><a href=https://atlas-vis.github.io/tutorials/mark/><div class="card my-1"><div class="card-body py-2">&larr; 3. Create and Render Glyphs</div></div></a><a class=ms-auto href=https://atlas-vis.github.io/tutorials/layout/><div class="card my-1"><div class="card-body py-2">5. Lay out Objects &rarr;</div></div></a></div></main></div></div></div><footer class="footer text-muted"><div class=container><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item>Copyright Â© 2021 <a href=https://hdi.cs.umd.edu>Human-Data Interaction Group @ University of Maryland, College Park</a>.<br>Powered by <a href=https://gohugo.io/>Hugo</a> and <a href=https://getdoks.org/>Doks</a></li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class=list-inline></ul></div></div></div></footer><script src=https://atlas-vis.github.io/js/highlight.min.a2c7f6261f51ccfc734f3960a949bf49fd146fbe709934f5f4a964119e2d76adca5e76443df05960f6bf8a3d99eb445401cf40efb88da8a5b20480a665a203e3.js integrity="sha512-osf2Jh9RzPxzTzlgqUm/Sf0Ub75wmTT19KlkEZ4tdq3KXnZEPfBZYPa/ij2Z60RUAc9A77iNqKWyBICmZaID4w==" crossorigin=anonymous defer></script><script src=https://atlas-vis.github.io/main.min.4beb27ba0a92477db5004e9ac90bdc264c0cfa2ac635165b0ac7304d9abfb603084d1cb20d54fd82f3812791936dfd94ad658b9bcd489db4eda026292543d3cc.js integrity="sha512-S+snugqSR321AE6ayQvcJkwM+irGNRZbCscwTZq/tgMITRyyDVT9gvOBJ5GTbf2UrWWLm81InbTtoCYpJUPTzA==" crossorigin=anonymous defer></script></body></html>