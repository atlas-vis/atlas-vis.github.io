let scn = atlas.scene();
let tree = await atlas.treejson("treejson/AAAsample_ed2.json");
let c = scn.mark("circle", {x: 400, y: 350, radius: 30, fillColor: "orange", strokeColor: "white"});
let coll = scn.stratify(c, tree, {size: 40});
scn.encode(c, {field: "value", channel: "angle"});
scn.encode(c, {field: "event_attribute", channel: "fillColor"});
// let text = scn.mark("text", {fillColor: "black", fontWeight: "bold", fontSize: "12px"});
// scn.repeat(text, tree.nodeTable);
// scn.encode(text, {channel: "text", field: "event_attribute"});
// scn.affix(text, coll.firstChild, "radialDistance", {itemAnchor: "top", baseAnchor: "top", offset: -10});
// scn.affix(text, coll.firstChild, "angle");
scn.legend("fillColor", "event_attribute", {x: 600, y: 100});